package r01f.rest;


import javax.servlet.http.HttpServletRequest;
import javax.ws.rs.core.Context;

import lombok.RequiredArgsConstructor;
import r01f.rest.resources.delegates.RESTDelegate;

/**
 * REST Resource base type
 */
@RequiredArgsConstructor
public abstract class RESTResourceBase
           implements RESTResource {
/////////////////////////////////////////////////////////////////////////////////////////
//  INJECTED PER REQUEST
/////////////////////////////////////////////////////////////////////////////////////////
	@Context 
	protected HttpServletRequest _req;		// injected per request
/////////////////////////////////////////////////////////////////////////////////////////
//  FIELDS
/////////////////////////////////////////////////////////////////////////////////////////
	/**
	 * A persistence / search / index / etc delegate
	 */
	protected final RESTDelegate _delegate;
/////////////////////////////////////////////////////////////////////////////////////////
//  
/////////////////////////////////////////////////////////////////////////////////////////
	@SuppressWarnings("unchecked")
	public <T extends RESTDelegate> T getDelegateAs(@SuppressWarnings("unused") final Class<T> type) {
		return (T)_delegate;
	}
}
